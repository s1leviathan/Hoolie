{% extends 'base.html' %}
{% load static %}

{% block title %}Î•Ï€Î¹Î»Î¿Î³Î® Î‘ÏƒÏ†Î¬Î»Î¹ÏƒÎ·Ï‚ - Hoolie Pet Insurance{% endblock %}

{% block content %}
<section class="hero-section">
    <div class="container">
        <div class="hero-content">
            <h1 class="hero-title" style="font-size: 2.5rem; margin-bottom: 1rem;">
                <span style="background: linear-gradient(45deg, #ffffff, #f0f8ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
                    Î¤Î­Î»ÎµÎ¹Î±! <span id="pet-name-in-title">Î¤Î¿ ÎºÎ±Ï„Î¿Î¹ÎºÎ¯Î´Î¹ÏŒ ÏƒÎ±Ï‚</span> ÎµÎ¯Î½Î±Î¹ Ï…Î³Î¹Î­Ï‚! ğŸ‰
                </span>
            </h1>
            
            <p class="hero-subtitle" style="font-size: 1.2rem; margin-bottom: 3rem; opacity: 0.9;">
                Î¤Î¹ Î¸Î± Î¸Î­Î»Î±Ï„Îµ Î½Î± ÎºÎ¬Î½Î¿Ï…Î¼Îµ Ï„ÏÏÎ±;
            </p>
            
            <!-- Pet Info Card -->
            <div class="pet-info-card" style="margin-bottom: 3rem;">
                <div class="pet-icon-small" id="pet-avatar">ğŸ•</div>
                <span class="pet-reminder-text" id="pet-name-display">Î¤Î¿ ÎºÎ±Ï„Î¿Î¹ÎºÎ¯Î´Î¹ÏŒ ÏƒÎ±Ï‚</span>
                <span class="gender-indicator" id="pet-gender-display">
                    <span style="color: #4A90E2;">â™‚ï¸ Î‘ÏÏƒÎµÎ½Î¹ÎºÏŒ</span>
                </span>
            </div>
            
            <!-- Insurance Choice Options -->
            <div class="insurance-choice-options">
                <div class="choice-card insure-now-card" onclick="selectChoice('insure-now')">
                    <div class="choice-icon">ğŸš€</div>
                    <h3 class="choice-title">Î˜Î­Î»Ï‰ Î½Î± Î±ÏƒÏ†Î±Î»Î¹ÏƒÏ„Ï Ï„ÏÏÎ±!</h3>
                    <p class="choice-description">
                        Î”ÎµÎ¯Ï„Îµ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ ÏƒÎ±Ï‚ ÎºÎ±Î¹ Ï€ÏÎ¿Ï‡Ï‰ÏÎ®ÏƒÏ„Îµ Î¬Î¼ÎµÏƒÎ± ÏƒÏ„Î·Î½ Î±ÏƒÏ†Î¬Î»Î¹ÏƒÎ·
                    </p>
                    <div class="choice-benefits">
                        <span class="benefit-item">âœ… Î†Î¼ÎµÏƒÎ· ÎºÎ¬Î»Ï…ÏˆÎ·</span>
                        <span class="benefit-item">âœ… ÎšÎ±Î»ÏÏ„ÎµÏÎµÏ‚ Ï„Î¹Î¼Î­Ï‚</span>
                        <span class="benefit-item">âœ… Î“ÏÎ®Î³Î¿ÏÎ· Î´Î¹Î±Î´Î¹ÎºÎ±ÏƒÎ¯Î±</span>
                    </div>
                </div>
                
                <div class="choice-card contact-later-card" onclick="selectChoice('contact-later')">
                    <div class="choice-icon">ğŸ“</div>
                    <h3 class="choice-title">Î•Ï€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î®ÏƒÏ„Îµ Î¼Î±Î¶Î¯ Î¼Î¿Ï…</h3>
                    <p class="choice-description">
                        Î˜Î± ÎµÏ€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î®ÏƒÎ¿Ï…Î¼Îµ Î¼Î±Î¶Î¯ ÏƒÎ±Ï‚ Î³Î¹Î± Î¼Î¹Î± ÎµÎ¾Î±Ï„Î¿Î¼Î¹ÎºÎµÏ…Î¼Î­Î½Î· Ï€ÏÎ¿ÏƒÏ†Î¿ÏÎ¬
                    </p>
                    <div class="choice-benefits">
                        <span class="benefit-item">ğŸ“‹ Î ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÎ® ÏƒÏ…Î¼Î²Î¿Ï…Î»Î®</span>
                        <span class="benefit-item">ğŸ’° Î•Î¹Î´Î¹ÎºÎ­Ï‚ Ï€ÏÎ¿ÏƒÏ†Î¿ÏÎ­Ï‚</span>
                        <span class="benefit-item">â° Î£Ï„Î¿Î½ Ï‡ÏÏŒÎ½Î¿ ÏƒÎ±Ï‚</span>
                    </div>
                </div>
            </div>
            
            <!-- Navigation Buttons -->
            <div class="navigation-buttons" style="margin-top: 3rem;">
                <button class="btn btn-lg btn-light me-3" onclick="goBack()" style="padding: 1rem 2rem; border-radius: 15px; font-weight: 600;">
                    â† Î Î¯ÏƒÏ‰
                </button>
            </div>
        </div>
    </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Get parameters from URL
    const urlParams = new URLSearchParams(window.location.search);
    const petType = urlParams.get('type');
    const gender = urlParams.get('gender');
    const name = urlParams.get('name');
    
    // Set pet avatar
    if (petType === 'dog') {
        document.getElementById('pet-avatar').textContent = 'ğŸ•';
    } else if (petType === 'cat') {
        document.getElementById('pet-avatar').textContent = 'ğŸ±';
    }
    
    // Set pet name
    if (name) {
        const petName = decodeURIComponent(name);
        document.getElementById('pet-name-display').textContent = petName;
        
        // Update title to include pet name
        document.getElementById('pet-name-in-title').textContent = `ÎŸ/Î— ${petName}`;
    }
    
    // Set gender display
    if (gender === 'male') {
        document.getElementById('pet-gender-display').innerHTML = '<span style="color: #4A90E2;">â™‚ï¸ Î‘ÏÏƒÎµÎ½Î¹ÎºÏŒ</span>';
    } else if (gender === 'female') {
        document.getElementById('pet-gender-display').innerHTML = '<span style="color: #E91E63;">â™€ï¸ Î˜Î·Î»Ï…ÎºÏŒ</span>';
    }
});

function selectChoice(choice) {
    // Get all parameters from URL
    const urlParams = new URLSearchParams(window.location.search);
    const petType = urlParams.get('type');
    const gender = urlParams.get('gender');
    const birthdate = urlParams.get('birthdate');
    const breed = urlParams.get('breed');
    const name = urlParams.get('name');
    const healthStatus = urlParams.get('health_status');
    
    if (choice === 'insure-now') {
        // Navigate to review page
        const params = new URLSearchParams({
            type: petType || '',
            gender: gender || '',
            birthdate: birthdate || '',
            breed: breed || '',
            name: name || '',
            health_status: healthStatus || '',
            conditions: ''
        });
        
        window.location.href = `{% url 'main:review_info' %}?${params.toString()}`;
    } else if (choice === 'contact-later') {
        // Navigate to contact info page
        const params = new URLSearchParams({
            type: petType || '',
            gender: gender || '',
            birthdate: birthdate || '',
            breed: breed || '',
            name: name || '',
            health_status: healthStatus || '',
            conditions: ''
        });
        
        window.location.href = `{% url 'main:contact_info' %}?${params.toString()}`;
    }
}

function goBack() {
    window.history.back();
}
</script>
{% endblock %}



