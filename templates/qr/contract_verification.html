{% extends 'main/base.html' %}
{% load static %}

{% block title %}
{% if verification_success %}
Î•Ï€Î±Î»Î®Î¸ÎµÏ…ÏƒÎ· Î£Ï…Î¼Î²Î¿Î»Î±Î¯Î¿Ï… - {{ application.contract_number }}
{% else %}
Î£Ï†Î¬Î»Î¼Î± Î•Ï€Î±Î»Î®Î¸ÎµÏ…ÏƒÎ·Ï‚
{% endif %}
{% endblock %}

{% block extra_css %}
<style>
    .verification-container {
        max-width: 600px;
        margin: 40px auto;
        padding: 20px;
        text-align: center;
    }
    
    .verification-success {
        background: linear-gradient(135deg, #4CAF50, #45a049);
        color: white;
        padding: 30px;
        border-radius: 12px;
        margin-bottom: 30px;
    }
    
    .verification-error {
        background: linear-gradient(135deg, #f44336, #d32f2f);
        color: white;
        padding: 30px;
        border-radius: 12px;
        margin-bottom: 30px;
    }
    
    .contract-details {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        text-align: left;
        margin-bottom: 20px;
    }
    
    .detail-row {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
        border-bottom: 1px solid #eee;
    }
    
    .detail-row:last-child {
        border-bottom: none;
    }
    
    .detail-label {
        font-weight: bold;
        color: #333;
    }
    
    .detail-value {
        color: #666;
    }
    
    .status-badge {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: bold;
        text-transform: uppercase;
    }
    
    .status-active {
        background: #4CAF50;
        color: white;
    }
    
    .status-pending {
        background: #FF9800;
        color: white;
    }
    
    .back-button {
        background: #5ac8bd;
        color: white;
        padding: 12px 24px;
        border: none;
        border-radius: 6px;
        text-decoration: none;
        display: inline-block;
        margin-top: 20px;
        transition: background 0.3s;
    }
    
    .back-button:hover {
        background: #4a9d94;
        text-decoration: none;
        color: white;
    }
</style>
{% endblock %}

{% block content %}
<div class="verification-container">
    {% if verification_success %}
        <div class="verification-success">
            <h1>âœ… Î•Ï€Î±Î»Î®Î¸ÎµÏ…ÏƒÎ· Î•Ï€Î¹Ï„Ï…Ï‡Î®Ï‚</h1>
            <p>Î¤Î¿ ÏƒÏ…Î¼Î²ÏŒÎ»Î±Î¹Î¿ ÎµÎ¯Î½Î±Î¹ Î­Î³ÎºÏ…ÏÎ¿ ÎºÎ±Î¹ ÎµÎ½ÎµÏÎ³ÏŒ</p>
        </div>
        
        <div class="contract-details">
            <h3>ğŸ“„ Î£Ï„Î¿Î¹Ï‡ÎµÎ¯Î± Î£Ï…Î¼Î²Î¿Î»Î±Î¯Î¿Ï…</h3>
            
            <div class="detail-row">
                <span class="detail-label">Î‘ÏÎ¹Î¸Î¼ÏŒÏ‚ Î£Ï…Î¼Î²Î¿Î»Î±Î¯Î¿Ï…:</span>
                <span class="detail-value">{{ application.contract_number }}</span>
            </div>
            
            <div class="detail-row">
                <span class="detail-label">Î‘ÏƒÏ†Î±Î»Î¹Î¶ÏŒÎ¼ÎµÎ½Î¿Ï‚:</span>
                <span class="detail-value">{{ application.full_name }}</span>
            </div>
            
            <div class="detail-row">
                <span class="detail-label">ÎšÎ±Ï„Î¿Î¹ÎºÎ¯Î´Î¹Î¿:</span>
                <span class="detail-value">{{ application.pet_name }} ({{ application.get_pet_type_display }})</span>
            </div>
            
            <div class="detail-row">
                <span class="detail-label">Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î±:</span>
                <span class="detail-value">{{ application.get_program_display }}</span>
            </div>
            
            {% if application.contract_start_date %}
            <div class="detail-row">
                <span class="detail-label">Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± ÎˆÎ½Î±ÏÎ¾Î·Ï‚:</span>
                <span class="detail-value">{{ application.contract_start_date|date:"d/m/Y" }}</span>
            </div>
            {% endif %}
            
            {% if application.contract_end_date %}
            <div class="detail-row">
                <span class="detail-label">Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î›Î®Î¾Î·Ï‚:</span>
                <span class="detail-value">{{ application.contract_end_date|date:"d/m/Y" }}</span>
            </div>
            {% endif %}
            
            <div class="detail-row">
                <span class="detail-label">ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·:</span>
                <span class="detail-value">
                    <span class="status-badge {% if application.status == 'active' %}status-active{% else %}status-pending{% endif %}">
                        {{ application.get_status_display }}
                    </span>
                </span>
            </div>
        </div>
        
        <p><strong>ğŸ”’ Î‘Ï…Ï„ÏŒ Ï„Î¿ ÏƒÏ…Î¼Î²ÏŒÎ»Î±Î¹Î¿ ÎµÎ¯Î½Î±Î¹ ÎµÏ€Î±Î»Î·Î¸ÎµÏ…Î¼Î­Î½Î¿ ÎºÎ±Î¹ Î­Î³ÎºÏ…ÏÎ¿.</strong></p>
        
    {% else %}
        <div class="verification-error">
            <h1>âŒ Î£Ï†Î¬Î»Î¼Î± Î•Ï€Î±Î»Î®Î¸ÎµÏ…ÏƒÎ·Ï‚</h1>
            <p>{{ error_message }}</p>
            {% if contract_number %}
            <p><strong>Î£Ï…Î¼Î²ÏŒÎ»Î±Î¹Î¿:</strong> {{ contract_number }}</p>
            {% endif %}
        </div>
        
        <p>Î Î±ÏÎ±ÎºÎ±Î»Î¿ÏÎ¼Îµ ÎµÏ€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î®ÏƒÏ„Îµ Î¼Î±Î¶Î¯ Î¼Î±Ï‚ Î³Î¹Î± Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎµÏ‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚.</p>
    {% endif %}
    
    <a href="{% url 'main:index' %}" class="back-button">
        ğŸ  Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î·Î½ Î‘ÏÏ‡Î¹ÎºÎ®
    </a>
</div>
{% endblock %}



